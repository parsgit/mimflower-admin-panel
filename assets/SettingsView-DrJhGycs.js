import{D as P,E as q,c as s,o as a,a as e,w as M,p as f,n as _,t as x,s as G,F as U,m as w,r as k,i as B,e as u,P as V,j as A,I as L,z as C,f as D,b as y,R,A as O,y as S,l as Y,x as H}from"./index-CCbTYXk4.js";import{_ as g}from"./MyInput-Btq5AOSp.js";import{_ as K}from"./MyCheckbox-CwcIpMNr.js";import{_ as J}from"./Richbox-3qy62-zy.js";import{_ as Q}from"./Textarea-COmd2_dE.js";import{_ as W}from"./FileUploader-7Ob77uK1.js";const X={class:"form-control w-full max-w-xs"},Z={class:"label"},ee={disabled:"",value:null},te=["value"],le={key:0,class:"label"},oe={key:0,class:"label-text-alt"},ae={key:1,class:"label-text-alt"},N={__name:"MySelect",props:P({valueKey:{default:"value"},titleKey:{default:"title"},titleClass:{default:""},selectClass:{default:""},options:{type:Array,default:()=>[],required:!0},placeholder:{type:String,default:"Select an option"},title:{type:String,default:""},topAltText:{type:String,default:""},bottomLeftAltText:{type:String,default:""},bottomRightAltText:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const l=p,r=q(p,"modelValue");return(m,v)=>(a(),s("label",X,[e("div",Z,[l.title?(a(),s("span",{key:0,class:_([l.titleClass,"label-text"])},x(l.title),3)):f("",!0),p.topAltText?(a(),s("span",{key:1,class:_([l.titleClass,"label-text-alt"])},x(p.topAltText),3)):f("",!0)]),M(e("select",{class:_([l.selectClass,"select select-bordered"]),"onUpdate:modelValue":v[0]||(v[0]=n=>r.value=n),onChange:v[1]||(v[1]=n=>m.$emit("update:modelValue",n.target.value))},[e("option",ee,x(p.placeholder),1),(a(!0),s(U,null,w(p.options,n=>(a(),s("option",{key:n[l.valueKey],value:n[l.valueKey]},x(n[l.titleKey]),9,te))),128))],34),[[G,r.value]]),p.bottomLeftAltText||p.bottomRightAltText?(a(),s("div",le,[p.bottomLeftAltText?(a(),s("span",oe,x(p.bottomLeftAltText),1)):f("",!0),p.bottomRightAltText?(a(),s("span",ae,x(p.bottomRightAltText),1)):f("",!0)])):f("",!0)]))}},ne={key:0,class:"mt-4 px-2 card"},se={class:"flex flex-col gap-4"},de={class:"flex items-end gap-4"},ie={class:"py-3 px-6 bg-white rounded-lg flex gap-4"},ue={__name:"SettingGeneralView",props:{siteId:{type:Number,required:!0}},setup(p){const l=k({}),r=p,m=()=>{V("admin/settings-general-info",{site_id:r.siteId}).then(n=>{n.ok&&(l.value=n.site,l.value.active=!!l.value.active)})},v=()=>{V("admin/save-site-info",{site:l.value}).then(n=>{n.ok&&swal("Site Info Saved","","success")})};return B(()=>{m()}),(n,d)=>{var h;return a(),s("div",null,[e("div",null,[d[7]||(d[7]=e("h1",{class:"text-2xl font-bold"},"General Settings",-1)),(h=l.value)!=null&&h.title?(a(),s("div",ne,[e("div",se,[u(g,{modelValue:l.value.title,"onUpdate:modelValue":d[0]||(d[0]=b=>l.value.title=b),"title-class":"font-bold text-lg",title:"Site Title"},null,8,["modelValue"]),u(g,{modelValue:l.value.name,"onUpdate:modelValue":d[1]||(d[1]=b=>l.value.name=b),"title-class":"font-bold text-lg",title:"Site Name"},null,8,["modelValue"]),u(g,{modelValue:l.value.domain,"onUpdate:modelValue":d[2]||(d[2]=b=>l.value.domain=b),"title-class":"font-bold text-lg",title:"Site Domain"},null,8,["modelValue"]),u(g,{modelValue:l.value.devdomain,"onUpdate:modelValue":d[3]||(d[3]=b=>l.value.devdomain=b),"title-class":"font-bold text-lg",title:"Site Development Domain"},null,8,["modelValue"]),u(g,{modelValue:l.value.settings.footer,"onUpdate:modelValue":d[4]||(d[4]=b=>l.value.settings.footer=b),"title-class":"font-bold text-lg",title:"Footer text"},null,8,["modelValue"]),e("div",de,[u(N,{modelValue:l.value.protocol,"onUpdate:modelValue":d[5]||(d[5]=b=>l.value.protocol=b),options:[{title:"http",value:"http"},{title:"https",value:"https"}],"title-class":"font-bold text-lg",title:"Site Protocol"},null,8,["modelValue"]),e("div",ie,[u(K,{"input-class":"checkbox-primary","title-class":"text-lg font-bold",class:"mt-auto",modelValue:l.value.active,"onUpdate:modelValue":d[6]||(d[6]=b=>l.value.active=b),title:"Is Active"},null,8,["modelValue"])])])])])):f("",!0)]),e("div",{class:"mt-8"},[e("button",{onClick:v,class:"btn btn-primary btn-lg px-8"},"Save")])])}}},me={class:"mt-4 px-2 flex gap-4 items-end"},re={key:0,class:"mt-8"},ce={class:"flex items-center justify-between gap-4"},ve={class:"text-2xl font-bold"},fe={key:0,class:"text-green-500 font-bold text-lg"},pe={class:"mt-4 px-2 card"},be={class:"flex flex-col gap-4"},ge={class:"flex gap-4 flex-wrap"},xe={key:0,class:"flex gap-4"},Ve={key:1},ke={key:2},ye={key:3,class:"flex gap-4 items-end"},he={key:4},_e={class:"flex gap-4 flex-col mt-4"},Ce=["onClick"],$e={class:"text-center mt-4"},Ue=["onClick"],we={key:5},Se={class:"mt-4 flex text-right justify-end"},Ae=["onClick"],Ne={key:0,class:"flex gap-4 flex-warp mt-12"},Te={class:"mt-8"},Ie={__name:"SettingVariableView",setup(p){k({});const l=k({}),r=k(-1),m=k({}),v=c=>{let o={};c=="array"&&(o={options:[{name:"",value:""}]}),m.value.variables.push({id:new Date().getTime(),comname:c,...o})},n=c=>{m.value.variables.splice(c,1)},d=()=>{r.value=0,m.value={name:"",type:"",variables:[]}},h=c=>{V("admin/setting-config/remove-image",{path:c})},b=c=>{V("admin/setting-config/get-list",{}).then(o=>{o.ok&&(l.value=o.list),typeof c=="function"&&c(o)})},j=()=>{C({text:"Are you sure?",icon:"warning",buttons:["No","Yes"]}).then(c=>{c&&V("admin/setting-config/remove",{id:r.value}).then(o=>{o.ok?(C({text:"Success",icon:"success"}),r.value=-1,b()):C({text:o.message,icon:"error"})})})},z=c=>{r.value=c.target.value,T()},T=()=>{V("admin/setting-config/get-config",{id:r.value}).then(c=>{c.ok&&(m.value=c.config)})},E=()=>{V("admin/setting-config/save",{...m.value}).then(c=>{c.ok?(C({text:"Success",icon:"success"}),r.value==0&&b(()=>{r.value=c.id,T()})):C({text:c.message,icon:"error"})})};return b(),(c,o)=>(a(),s("div",null,[e("div",null,[o[12]||(o[12]=e("h1",{class:"text-2xl font-bold"},"Configs",-1)),e("div",me,[u(N,{onChange:o[0]||(o[0]=t=>z(t)),options:l.value,"title-key":"name","value-key":"id",modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=t=>r.value=t),title:"Select a Config"},null,8,["options","modelValue"]),r.value!=0?(a(),s("button",{key:0,onClick:o[2]||(o[2]=t=>d()),class:"btn btn-primary"},"Add")):f("",!0)])]),r.value>-1?(a(),s("div",re,[e("div",ce,[e("h1",ve,[o[13]||(o[13]=A("Config Values ")),r.value==0?(a(),s("span",fe,"(New)")):f("",!0)]),e("div",null,[r.value>0?(a(),s("button",{key:0,onClick:j,class:"btn btn-error btn-sm"},"Delete Config")):f("",!0)])]),e("div",pe,[e("div",be,[e("div",ge,[u(g,{modelValue:m.value.name,"onUpdate:modelValue":o[3]||(o[3]=t=>m.value.name=t),title:"Config Name","title-class":"text-lg font-bold"},null,8,["modelValue"]),u(g,{modelValue:m.value.type,"onUpdate:modelValue":o[4]||(o[4]=t=>m.value.type=t),title:"Config Type","title-class":"text-lg font-bold"},null,8,["modelValue"])]),(a(!0),s(U,null,w(m.value.variables,(t,F)=>(a(),s("div",{class:"bg-black/5 p-2 rounded-xl border border-black/30",key:t.id},[t.comname=="value"?(a(),s("div",xe,[u(g,{modelValue:t.label,"onUpdate:modelValue":i=>t.label=i,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),u(g,{modelValue:t.value,"onUpdate:modelValue":i=>t.value=i,title:"Value",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"])])):f("",!0),t.comname=="richbox"?(a(),s("div",Ve,[u(g,{modelValue:t.label,"onUpdate:modelValue":i=>t.label=i,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),u(J,{"com-id":"editor_"+t.id,modelValue:t.html,"onUpdate:modelValue":i=>t.html=i,title:"Content"},null,8,["com-id","modelValue","onUpdate:modelValue"])])):f("",!0),t.comname=="text"?(a(),s("div",ke,[u(g,{modelValue:t.label,"onUpdate:modelValue":i=>t.label=i,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),u(Q,{modelValue:t.html,"onUpdate:modelValue":i=>t.html=i,title:"Content"},null,8,["modelValue","onUpdate:modelValue"])])):f("",!0),t.comname=="checkbox"?(a(),s("div",ye,[u(g,{modelValue:t.label,"onUpdate:modelValue":i=>t.label=i,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),u(K,{"input-class":"checkbox-success",class:"py-3 px-6 bg-white rounded-xl",title:"Enabled",modelValue:t.value,"onUpdate:modelValue":i=>t.value=i},null,8,["modelValue","onUpdate:modelValue"])])):f("",!0),t.comname=="array"?(a(),s("div",he,[u(g,{modelValue:t.label,"onUpdate:modelValue":i=>t.label=i,title:"Name",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),e("div",_e,[(a(!0),s(U,null,w(t.options,(i,I)=>(a(),s("div",{key:I,class:"flex gap-4 items-end"},[u(g,{modelValue:i.name,"onUpdate:modelValue":$=>i.name=$,title:"Option Name",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),u(g,{modelValue:i.value,"onUpdate:modelValue":$=>i.value=$,title:"Option Value",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),e("button",{onClick:$=>t.options.splice(I,1),class:"border hover:bg-red-200 duration-200 border-red-500 rounded-lg p-2 text-red-600"},[u(L,{class:"size-6"})],8,Ce)]))),128))]),e("div",$e,[e("button",{onClick:i=>t.options.push({name:"",value:""}),class:"btn"},"Add",8,Ue)])])):f("",!0),t.comname=="image"?(a(),s("div",we,[u(g,{modelValue:t.label,"onUpdate:modelValue":i=>t.label=i,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),u(W,{"upload-url":"admin/setting-config/upload-image",title:"Upload Image",modelValue:t.value,"onUpdate:modelValue":i=>t.value=i,"upload-params":{name:m.value.name},onRemove:h},null,8,["modelValue","onUpdate:modelValue","upload-params"])])):f("",!0),e("div",Se,[e("button",{onClick:i=>n(F),class:"border hover:bg-red-200 duration-200 border-red-500 rounded-lg p-2 text-red-600"},[u(L,{class:"size-6"})],8,Ae)])]))),128))]),r.value>0?(a(),s("div",Ne,[e("button",{class:"btn btn-secondary",onClick:o[5]||(o[5]=t=>v("value"))},"Add Input"),e("button",{class:"btn btn-secondary",onClick:o[6]||(o[6]=t=>v("richbox"))},"Add Richbox"),e("button",{class:"btn btn-secondary",onClick:o[7]||(o[7]=t=>v("text"))},"Add Text"),e("button",{class:"btn btn-secondary",onClick:o[8]||(o[8]=t=>v("image"))},"Add Image"),e("button",{class:"btn btn-secondary",onClick:o[9]||(o[9]=t=>v("array"))},"Add Array"),e("button",{class:"btn btn-secondary",onClick:o[10]||(o[10]=t=>v("checkbox"))},"Add Checkbox")])):f("",!0)]),e("div",Te,[e("button",{onClick:o[11]||(o[11]=t=>E()),class:"btn btn-primary btn-lg px-8"},"Save")])])):f("",!0)]))}},Le={class:"flex justify-between items-center"},De={key:0,class:"alert alert-warning shadow-lg mt-10"},Re={key:1},Me={class:"table w-full mt-10"},Be={class:"text-center flex flex-wrap gap-2"},Ke=["onClick"],je={__name:"SettingBankCardListView",setup(p){const l=k([]),r=()=>{V("admin/bank-card/list",{}).then(v=>{v.ok&&(l.value=v.list)})},m=v=>{swal({title:"آیا مطمئن هستید؟",text:"این کارت بانکی حذف خواهد شد",icon:"warning",buttons:!0,dangerMode:!0}).then(n=>{n&&V("admin/bank-card/remove",{id:v.id}).then(d=>{d.ok&&(swal("کارت بانکی با موفقیت حذف شد",{icon:"success"}),r())})})};return r(),(v,n)=>(a(),s("div",null,[e("div",null,[e("div",Le,[n[1]||(n[1]=e("div",null,[e("h1",{class:"text-2xl font-bold"},"لیست کارت های بانکی")],-1)),e("div",null,[u(y(R),{class:"btn btn-primary btn-lg px-8",to:{name:"admin_bankcard_new"}},{default:D(()=>n[0]||(n[0]=[A(" ایجاد کارت بانکی جدید ")])),_:1})])]),l.value.length==0?(a(),s("div",De," هیچ کارت بانکی وجود ندارد می توانید یک کارت بانکی جدید ایجاد کنید ")):(a(),s("div",Re,[e("table",Me,[n[3]||(n[3]=e("thead",null,[e("tr",null,[e("th",null,"شماره کارت"),e("th",null,"نام صاحب کارت"),e("th",null,"نام بانک"),e("th",null,"وضعیت"),e("th")])],-1)),e("tbody",null,[(a(!0),s(U,null,w(l.value,d=>(a(),s("tr",{key:d.id},[e("td",null,x(d.number),1),e("td",null,x(d.owner_name),1),e("td",null,x(d.bank_name),1),e("td",null,x(d.active?"فعال":"غیرفعال"),1),e("td",Be,[u(y(R),{to:{name:"admin_bankcard_edit",params:{id:d.id}},class:"btn btn-sm btn-primary"},{default:D(()=>n[2]||(n[2]=[A("ویرایش")])),_:2},1032,["to"]),e("button",{onClick:h=>m(d),class:"btn btn-error btn-sm"},"حذف",8,Ke)])]))),128))])])]))])]))}},ze={dir:"rtl",class:"p-1 md:p-8 max-w-4xl mx-auto"},Ee={role:"tablist",class:"tabs tabs-boxed w-fit mt-4"},Fe={class:"mt-12 rounded-xl bg-base-100 shadow shadow-md p-4"},Je={__name:"SettingsView",setup(p){const l=Y();k("general");const r=k([]),m=k(0);return B(()=>{O.admin_panel_title.value="تنظیمات"}),(()=>{V("admin/get-sites",{}).then(n=>{n.ok&&(r.value=n.list,n.list.length&&(m.value=n.list[0].id))})})(),(n,d)=>(a(),s("div",ze,[M(e("div",null,[u(N,{modelValue:m.value,"onUpdate:modelValue":d[0]||(d[0]=h=>m.value=h),"value-key":"id",options:r.value,title:"Select a Site"},null,8,["modelValue","options"])],512),[[H,!1]]),e("div",Ee,[e("a",{href:"#general",role:"tab",class:_(["tab",{"tab-active bg-base-300 font-bold":y(l).hash=="#general"}])},"تنظیمات عمومی",2),e("a",{href:"#bankcards",role:"tab",class:_(["tab",{"tab-active bg-base-300 font-bold":y(l).hash=="#bankcards"}])}," کارت های بانکی ",2),e("a",{href:"#varriable",role:"tab",class:_(["tab",{"tab-active bg-base-300 font-bold":y(l).hash=="#varriable"}])},"مقادیر",2)]),e("div",Fe,[y(l).hash=="#general"&&m.value?(a(),S(ue,{key:0,"site-id":m.value},null,8,["site-id"])):f("",!0),y(l).hash=="#varriable"&&m.value?(a(),S(Ie,{key:1,"site-id":m.value},null,8,["site-id"])):f("",!0),y(l).hash=="#bankcards"&&m.value?(a(),S(je,{key:2,"site-id":m.value},null,8,["site-id"])):f("",!0)])]))}};export{Je as default};
