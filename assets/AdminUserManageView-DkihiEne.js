import{r,A as m,c as f,a,f as n,t as x,k as _,w as V,s as w,b,d as U,P as c,m as y,o as v}from"./index-DtBMEjzl.js";import{_ as i}from"./MyInput-CkpQAyLp.js";import{_ as k}from"./MyCheckbox-BqxmuO8k.js";const A={class:"max-w-[1200px] mx-auto p-1 xs:p-4 bg-gray-100 rounded-xl"},h={class:"flex flex-col md:flex-row gap-2"},N={class:"flex-1 justify-start flex flex-col gap-4"},R={class:"flex flex-col md:flex-row gap-4 items-center"},B={class:"flex flex-col md:flex-row gap-4 items-center"},M={class:"flex flex-col md:flex-row gap-4 items-center"},j={dir:"rtl",class:"badge badge-info"},C={dir:"rtl",class:"shadow badge badge-info"},D={key:0,class:"mt-4 text-center"},P={class:"w-full py-10 md:w-72 bg-gray-200 rounded-xl p-4 flex items-center justify-center"},S=["src"],q={__name:"AdminUserManageView",setup($){const u=y(),l=r({}),d=r(!1),g=s=>{c("admin/user-profile/info/"+u.params.id).then(e=>{e.ok?(l.value=e.user,console.log("user image",l.value.image)):console.log(e)})},p=s=>{console.log("changeUserRole",s.target.value),swal({title:"تغییر سطح دسترسی",text:"آیا از تغییر سطح دسترسی کاربر اطمینان دارید؟",icon:"warning",buttons:!0,dangerMode:!0}).then(e=>{e?(console.log("changeUserRole",s.target.value),c("admin/user-profile/change-role",{role:s.target.value,user_id:u.params.id}).then(t=>{t.ok?(l.value.role=s.target.value,console.log("user role changed",l.value.role)):console.log(t)})):console.log("cancel")})};return m.admin_panel_title.value="پنل ادمین | مدیریت کاربران",g(),(s,e)=>{var t;return v(),f("div",A,[a("div",h,[a("div",N,[a("div",R,[n(i,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.name=o),class:"w-full",title:"نام"},null,8,["modelValue"]),n(i,{modelValue:l.value.last_name,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.last_name=o),class:"w-full",title:"نام خانوادگی"},null,8,["modelValue"])]),a("div",B,[n(i,{modelValue:l.value.email,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.email=o),class:"w-full",title:"ایمیل"},null,8,["modelValue"]),n(i,{readonly:!0,modelValue:l.value.mobile,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.mobile=o),class:"w-full",title:"شماره تماس"},null,8,["modelValue"])]),a("div",M,[a("div",j,"تاریخ ثبت نام: "+x(l.value.fa_date),1),a("div",C,[e[8]||(e[8]=_("سطح دسترسی: ")),V(a("select",{onChange:e[4]||(e[4]=o=>p(o)),class:"",name:"",id:"","onUpdate:modelValue":e[5]||(e[5]=o=>l.value.role=o)},e[7]||(e[7]=[a("option",{value:"user"},"User",-1),a("option",{value:"admin"},"Admin",-1)]),544),[[w,l.value.role]])])]),a("div",null,[n(k,{modelValue:d.value,"onUpdate:modelValue":e[6]||(e[6]=o=>d.value=o),"input-class":"checkbox-primary",title:"ویرایش پروفایل کاربر"},null,8,["modelValue"]),d.value?(v(),f("div",D,e[9]||(e[9]=[a("button",{class:"btn btn-primary"},"ذخیره تغییرات",-1)]))):b("",!0)])]),a("div",P,[a("img",{class:"mx-auto",src:U(m).server+((t=l.value)==null?void 0:t.image),alt:""},null,8,S)])])])}}};export{q as default};
