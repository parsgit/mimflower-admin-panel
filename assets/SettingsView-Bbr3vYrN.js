import{_ as g}from"./MyInput-CyImiuET.js";import{D as K,E as j,c as n,o as a,a as l,w as q,j as p,n as _,t as k,l as z,F as $,h as S,r as V,q as E,e as d,P as b,k as F,I as T,s as h,b as U,B as I,m as G}from"./index-CcUWRcCY.js";import{_ as D}from"./MyCheckbox-3HwO0-z8.js";import{_ as P}from"./Richbox-DEDKqQVm.js";import{_ as O}from"./Textarea-CMTPh7ZQ.js";import{_ as Y}from"./FileUploader-CIJIvOWb.js";const H={class:"form-control w-full max-w-xs"},J={class:"label"},Q={disabled:"",value:null},W=["value"],X={key:0,class:"label"},Z={key:0,class:"label-text-alt"},ee={key:1,class:"label-text-alt"},A={__name:"MySelect",props:K({valueKey:{default:"value"},titleKey:{default:"title"},titleClass:{default:""},selectClass:{default:""},options:{type:Array,default:()=>[],required:!0},placeholder:{type:String,default:"Select an option"},title:{type:String,default:""},topAltText:{type:String,default:""},bottomLeftAltText:{type:String,default:""},bottomRightAltText:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(f){const o=f,u=j(f,"modelValue");return(i,x)=>(a(),n("label",H,[l("div",J,[o.title?(a(),n("span",{key:0,class:_([o.titleClass,"label-text"])},k(o.title),3)):p("",!0),f.topAltText?(a(),n("span",{key:1,class:_([o.titleClass,"label-text-alt"])},k(f.topAltText),3)):p("",!0)]),q(l("select",{class:_([o.selectClass,"select select-bordered"]),"onUpdate:modelValue":x[0]||(x[0]=m=>u.value=m),onChange:x[1]||(x[1]=m=>i.$emit("update:modelValue",m.target.value))},[l("option",Q,k(f.placeholder),1),(a(!0),n($,null,S(f.options,m=>(a(),n("option",{key:m[o.valueKey],value:m[o.valueKey]},k(m[o.titleKey]),9,W))),128))],34),[[z,u.value]]),f.bottomLeftAltText||f.bottomRightAltText?(a(),n("div",X,[f.bottomLeftAltText?(a(),n("span",Z,k(f.bottomLeftAltText),1)):p("",!0),f.bottomRightAltText?(a(),n("span",ee,k(f.bottomRightAltText),1)):p("",!0)])):p("",!0)]))}},te={key:0,class:"mt-4 px-2 card"},le={class:"flex flex-col gap-4"},oe={class:"flex items-end gap-4"},ae={class:"py-3 px-6 bg-white rounded-lg flex gap-4"},se={__name:"SettingGeneralView",props:{siteId:{type:Number,required:!0}},setup(f){const o=V({}),u=f,i=()=>{b("admin/settings-general-info",{site_id:u.siteId}).then(m=>{m.ok&&(o.value=m.site,o.value.active=!!o.value.active)})},x=()=>{b("admin/save-site-info",{site:o.value}).then(m=>{m.ok&&swal("Site Info Saved","","success")})};return E(()=>{i()}),(m,c)=>{var y;return a(),n("div",null,[l("div",null,[c[7]||(c[7]=l("h1",{class:"text-2xl font-bold"},"General Settings",-1)),(y=o.value)!=null&&y.title?(a(),n("div",te,[l("div",le,[d(g,{modelValue:o.value.title,"onUpdate:modelValue":c[0]||(c[0]=v=>o.value.title=v),"title-class":"font-bold text-lg",title:"Site Title"},null,8,["modelValue"]),d(g,{modelValue:o.value.name,"onUpdate:modelValue":c[1]||(c[1]=v=>o.value.name=v),"title-class":"font-bold text-lg",title:"Site Name"},null,8,["modelValue"]),d(g,{modelValue:o.value.domain,"onUpdate:modelValue":c[2]||(c[2]=v=>o.value.domain=v),"title-class":"font-bold text-lg",title:"Site Domain"},null,8,["modelValue"]),d(g,{modelValue:o.value.devdomain,"onUpdate:modelValue":c[3]||(c[3]=v=>o.value.devdomain=v),"title-class":"font-bold text-lg",title:"Site Development Domain"},null,8,["modelValue"]),d(g,{modelValue:o.value.settings.footer,"onUpdate:modelValue":c[4]||(c[4]=v=>o.value.settings.footer=v),"title-class":"font-bold text-lg",title:"Footer text"},null,8,["modelValue"]),l("div",oe,[d(A,{modelValue:o.value.protocol,"onUpdate:modelValue":c[5]||(c[5]=v=>o.value.protocol=v),options:[{title:"http",value:"http"},{title:"https",value:"https"}],"title-class":"font-bold text-lg",title:"Site Protocol"},null,8,["modelValue"]),l("div",ae,[d(D,{"input-class":"checkbox-primary","title-class":"text-lg font-bold",class:"mt-auto",modelValue:o.value.active,"onUpdate:modelValue":c[6]||(c[6]=v=>o.value.active=v),title:"Is Active"},null,8,["modelValue"])])])])])):p("",!0)]),l("div",{class:"mt-8"},[l("button",{onClick:x,class:"btn btn-primary btn-lg px-8"},"Save")])])}}},ne={class:"mt-4 px-2 flex gap-4 items-end"},de={key:0,class:"mt-8"},ie={class:"flex items-center justify-between gap-4"},ue={class:"text-2xl font-bold"},me={key:0,class:"text-green-500 font-bold text-lg"},ce={class:"mt-4 px-2 card"},re={class:"flex flex-col gap-4"},pe={class:"flex gap-4 flex-wrap"},ve={key:0,class:"flex gap-4"},fe={key:1},ge={key:2},xe={key:3,class:"flex gap-4 items-end"},be={key:4},Ve={class:"flex gap-4 flex-col mt-4"},ye=["onClick"],ke={class:"text-center mt-4"},he=["onClick"],_e={key:5},Ce={class:"mt-4 flex text-right justify-end"},Ue=["onClick"],$e={key:0,class:"flex gap-4 flex-warp mt-12"},Se={class:"mt-8"},Ae={__name:"SettingVariableView",setup(f){V({});const o=V({}),u=V(-1),i=V({}),x=r=>{let t={};r=="array"&&(t={options:[{name:"",value:""}]}),i.value.variables.push({id:new Date().getTime(),comname:r,...t})},m=r=>{i.value.variables.splice(r,1)},c=()=>{u.value=0,i.value={name:"",type:"",variables:[]}},y=r=>{b("admin/setting-config/remove-image",{path:r})},v=r=>{b("admin/setting-config/get-list",{}).then(t=>{t.ok&&(o.value=t.list),typeof r=="function"&&r(t)})},L=()=>{h({text:"Are you sure?",icon:"warning",buttons:["No","Yes"]}).then(r=>{r&&b("admin/setting-config/remove",{id:u.value}).then(t=>{t.ok?(h({text:"Success",icon:"success"}),u.value=-1,v()):h({text:t.message,icon:"error"})})})},R=r=>{u.value=r.target.value,w()},w=()=>{b("admin/setting-config/get-config",{id:u.value}).then(r=>{r.ok&&(i.value=r.config)})},M=()=>{b("admin/setting-config/save",{...i.value}).then(r=>{r.ok?(h({text:"Success",icon:"success"}),u.value==0&&v(()=>{u.value=r.id,w()})):h({text:r.message,icon:"error"})})};return v(),(r,t)=>(a(),n("div",null,[l("div",null,[t[12]||(t[12]=l("h1",{class:"text-2xl font-bold"},"Configs",-1)),l("div",ne,[d(A,{onChange:t[0]||(t[0]=e=>R(e)),options:o.value,"title-key":"name","value-key":"id",modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),title:"Select a Config"},null,8,["options","modelValue"]),u.value!=0?(a(),n("button",{key:0,onClick:t[2]||(t[2]=e=>c()),class:"btn btn-primary"},"Add")):p("",!0)])]),u.value>-1?(a(),n("div",de,[l("div",ie,[l("h1",ue,[t[13]||(t[13]=F("Config Values ")),u.value==0?(a(),n("span",me,"(New)")):p("",!0)]),l("div",null,[u.value>0?(a(),n("button",{key:0,onClick:L,class:"btn btn-error btn-sm"},"Delete Config")):p("",!0)])]),l("div",ce,[l("div",re,[l("div",pe,[d(g,{modelValue:i.value.name,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value.name=e),title:"Config Name","title-class":"text-lg font-bold"},null,8,["modelValue"]),d(g,{modelValue:i.value.type,"onUpdate:modelValue":t[4]||(t[4]=e=>i.value.type=e),title:"Config Type","title-class":"text-lg font-bold"},null,8,["modelValue"])]),(a(!0),n($,null,S(i.value.variables,(e,B)=>(a(),n("div",{class:"bg-black/5 p-2 rounded-xl border border-black/30",key:e.id},[e.comname=="value"?(a(),n("div",ve,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(g,{modelValue:e.value,"onUpdate:modelValue":s=>e.value=s,title:"Value",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"])])):p("",!0),e.comname=="richbox"?(a(),n("div",fe,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(P,{"com-id":"editor_"+e.id,modelValue:e.html,"onUpdate:modelValue":s=>e.html=s,title:"Content"},null,8,["com-id","modelValue","onUpdate:modelValue"])])):p("",!0),e.comname=="text"?(a(),n("div",ge,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(O,{modelValue:e.html,"onUpdate:modelValue":s=>e.html=s,title:"Content"},null,8,["modelValue","onUpdate:modelValue"])])):p("",!0),e.comname=="checkbox"?(a(),n("div",xe,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(D,{"input-class":"checkbox-success",class:"py-3 px-6 bg-white rounded-xl",title:"Enabled",modelValue:e.value,"onUpdate:modelValue":s=>e.value=s},null,8,["modelValue","onUpdate:modelValue"])])):p("",!0),e.comname=="array"?(a(),n("div",be,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),l("div",Ve,[(a(!0),n($,null,S(e.options,(s,N)=>(a(),n("div",{key:N,class:"flex gap-4 items-end"},[d(g,{modelValue:s.name,"onUpdate:modelValue":C=>s.name=C,title:"Option Name",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(g,{modelValue:s.value,"onUpdate:modelValue":C=>s.value=C,title:"Option Value",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),l("button",{onClick:C=>e.options.splice(N,1),class:"border hover:bg-red-200 duration-200 border-red-500 rounded-lg p-2 text-red-600"},[d(T,{class:"size-6"})],8,ye)]))),128))]),l("div",ke,[l("button",{onClick:s=>e.options.push({name:"",value:""}),class:"btn"},"Add",8,he)])])):p("",!0),e.comname=="image"?(a(),n("div",_e,[d(g,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),d(Y,{"upload-url":"admin/setting-config/upload-image",title:"Upload Image",modelValue:e.value,"onUpdate:modelValue":s=>e.value=s,"upload-params":{name:i.value.name},onRemove:y},null,8,["modelValue","onUpdate:modelValue","upload-params"])])):p("",!0),l("div",Ce,[l("button",{onClick:s=>m(B),class:"border hover:bg-red-200 duration-200 border-red-500 rounded-lg p-2 text-red-600"},[d(T,{class:"size-6"})],8,Ue)])]))),128))]),u.value>0?(a(),n("div",$e,[l("button",{class:"btn btn-secondary",onClick:t[5]||(t[5]=e=>x("value"))},"Add Input"),l("button",{class:"btn btn-secondary",onClick:t[6]||(t[6]=e=>x("richbox"))},"Add Richbox"),l("button",{class:"btn btn-secondary",onClick:t[7]||(t[7]=e=>x("text"))},"Add Text"),l("button",{class:"btn btn-secondary",onClick:t[8]||(t[8]=e=>x("image"))},"Add Image"),l("button",{class:"btn btn-secondary",onClick:t[9]||(t[9]=e=>x("array"))},"Add Array"),l("button",{class:"btn btn-secondary",onClick:t[10]||(t[10]=e=>x("checkbox"))},"Add Checkbox")])):p("",!0)]),l("div",Se,[l("button",{onClick:t[11]||(t[11]=e=>M()),class:"btn btn-primary btn-lg px-8"},"Save")])])):p("",!0)]))}},we={dir:"ltr",class:"p-1 md:p-8 max-w-4xl mx-auto"},Ne={role:"tablist",class:"tabs tabs-boxed w-fit mt-4"},Te={class:"mt-12 rounded-xl bg-base-200 shadow shadow-md p-4"},Ke={__name:"SettingsView",setup(f){const o=G();V("general");const u=V([]),i=V(0);return(()=>{b("admin/get-sites",{}).then(m=>{m.ok&&(u.value=m.list,m.list.length&&(i.value=m.list[0].id))})})(),(m,c)=>(a(),n("div",we,[l("div",null,[d(A,{modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=y=>i.value=y),"value-key":"id",options:u.value,title:"Select a Site"},null,8,["modelValue","options"])]),l("div",Ne,[l("a",{href:"#general",role:"tab",class:_(["tab",{"tab-active":U(o).hash=="#general"}])},"General",2),l("a",{href:"#varriable",role:"tab",class:_(["tab",{"tab-active":U(o).hash=="#varriable"}])},"Variables",2)]),l("div",Te,[U(o).hash=="#general"&&i.value?(a(),I(se,{key:0,"site-id":i.value},null,8,["site-id"])):p("",!0),U(o).hash=="#varriable"&&i.value?(a(),I(Ae,{key:1,"site-id":i.value},null,8,["site-id"])):p("",!0)])]))}};export{Ke as default};
