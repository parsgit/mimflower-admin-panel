import{_ as x}from"./MyInput-CcdsGBK0.js";import{s as D,x as M,c as n,o as a,a as t,w as L,e as v,n as k,t as y,D as z,F as $,f as S,C as F,r as V,p as P,j as i,P as b,m as q,G as C,i as U,g as E,y as T}from"./index-CIl7en7I.js";import{a as O,b as Y,I,_ as H}from"./IconTrash-BZcvHvKF.js";const J={class:"form-control w-full max-w-xs"},Q={class:"label"},W={disabled:"",value:null},X=["value"],Z={key:0,class:"label"},ee={key:0,class:"label-text-alt"},te={key:1,class:"label-text-alt"},A={__name:"MySelect",props:D({valueKey:{default:"value"},titleKey:{default:"title"},titleClass:{default:""},selectClass:{default:""},options:{type:Array,default:()=>[],required:!0},placeholder:{type:String,default:"Select an option"},title:{type:String,default:""},topAltText:{type:String,default:""},bottomLeftAltText:{type:String,default:""},bottomRightAltText:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const l=c,d=M(c,"modelValue");return(u,f)=>(a(),n("label",J,[t("div",Q,[l.title?(a(),n("span",{key:0,class:k([l.titleClass,"label-text"])},y(l.title),3)):v("",!0),c.topAltText?(a(),n("span",{key:1,class:k([l.titleClass,"label-text-alt"])},y(c.topAltText),3)):v("",!0)]),L(t("select",{class:k([l.selectClass,"select select-bordered"]),"onUpdate:modelValue":f[0]||(f[0]=m=>d.value=m),onChange:f[1]||(f[1]=m=>u.$emit("update:modelValue",m.target.value))},[t("option",W,y(c.placeholder),1),(a(!0),n($,null,S(c.options,m=>(a(),n("option",{key:m[l.valueKey],value:m[l.valueKey]},y(m[l.titleKey]),9,X))),128))],34),[[z,d.value]]),c.bottomLeftAltText||c.bottomRightAltText?(a(),n("div",Z,[c.bottomLeftAltText?(a(),n("span",ee,y(c.bottomLeftAltText),1)):v("",!0),c.bottomRightAltText?(a(),n("span",te,y(c.bottomRightAltText),1)):v("",!0)])):v("",!0)]))}},le={class:"form-control"},oe={class:"flex gap-4 cursor-pointer flex"},ae=["checked"],R={__name:"MyCheckbox",props:D({title:{type:String,default:""},inputClass:{type:String,default:""},titleClass:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const l=M(c,"modelValue"),d=c;return(u,f)=>(a(),n("div",le,[t("label",oe,[t("span",{class:k([c.titleClass,"label-text"])},y(d==null?void 0:d.title),3),L(t("input",{class:k([c.inputClass,"checkbox"]),"onUpdate:modelValue":f[0]||(f[0]=m=>l.value=m),checked:l.value,type:"checkbox"},null,10,ae),[[F,l.value]])])]))}},se={key:0,class:"mt-4 px-2 card"},ne={class:"flex flex-col gap-4"},de={class:"flex items-end gap-4"},ie={class:"py-3 px-6 bg-white rounded-lg flex gap-4"},ue={__name:"SettingGeneralView",props:{siteId:{type:Number,required:!0}},setup(c){const l=V({}),d=c,u=()=>{b("admin/settings-general-info",{site_id:d.siteId}).then(m=>{m.ok&&(l.value=m.site,l.value.active=!!l.value.active)})},f=()=>{b("admin/save-site-info",{site:l.value}).then(m=>{m.ok&&swal("Site Info Saved","","success")})};return P(()=>{u()}),(m,r)=>{var h;return a(),n("div",null,[t("div",null,[r[7]||(r[7]=t("h1",{class:"text-2xl font-bold"},"General Settings",-1)),(h=l.value)!=null&&h.title?(a(),n("div",se,[t("div",ne,[i(x,{modelValue:l.value.title,"onUpdate:modelValue":r[0]||(r[0]=g=>l.value.title=g),"title-class":"font-bold text-lg",title:"Site Title"},null,8,["modelValue"]),i(x,{modelValue:l.value.name,"onUpdate:modelValue":r[1]||(r[1]=g=>l.value.name=g),"title-class":"font-bold text-lg",title:"Site Name"},null,8,["modelValue"]),i(x,{modelValue:l.value.domain,"onUpdate:modelValue":r[2]||(r[2]=g=>l.value.domain=g),"title-class":"font-bold text-lg",title:"Site Domain"},null,8,["modelValue"]),i(x,{modelValue:l.value.devdomain,"onUpdate:modelValue":r[3]||(r[3]=g=>l.value.devdomain=g),"title-class":"font-bold text-lg",title:"Site Development Domain"},null,8,["modelValue"]),i(x,{modelValue:l.value.settings.footer,"onUpdate:modelValue":r[4]||(r[4]=g=>l.value.settings.footer=g),"title-class":"font-bold text-lg",title:"Footer text"},null,8,["modelValue"]),t("div",de,[i(A,{modelValue:l.value.protocol,"onUpdate:modelValue":r[5]||(r[5]=g=>l.value.protocol=g),options:[{title:"http",value:"http"},{title:"https",value:"https"}],"title-class":"font-bold text-lg",title:"Site Protocol"},null,8,["modelValue"]),t("div",ie,[i(R,{"input-class":"checkbox-primary","title-class":"text-lg font-bold",class:"mt-auto",modelValue:l.value.active,"onUpdate:modelValue":r[6]||(r[6]=g=>l.value.active=g),title:"Is Active"},null,8,["modelValue"])])])])])):v("",!0)]),t("div",{class:"mt-8"},[t("button",{onClick:f,class:"btn btn-primary btn-lg px-8"},"Save")])])}}},me={class:"mt-4 px-2 flex gap-4 items-end"},ce={key:0,class:"mt-8"},re={class:"flex items-center justify-between gap-4"},pe={class:"text-2xl font-bold"},ve={key:0,class:"text-green-500 font-bold text-lg"},fe={class:"mt-4 px-2 card"},ge={class:"flex flex-col gap-4"},xe={class:"flex gap-4 flex-wrap"},be={key:0,class:"flex gap-4"},Ve={key:1},ye={key:2},ke={key:3,class:"flex gap-4 items-end"},he={key:4},Ce={class:"flex gap-4 flex-col mt-4"},_e=["onClick"],Ue={class:"text-center mt-4"},$e=["onClick"],Se={key:5},Ae={class:"mt-4 flex text-right justify-end"},we=["onClick"],Ne={key:0,class:"flex gap-4 flex-warp mt-12"},Te={class:"mt-8"},Ie={__name:"SettingVariableView",setup(c){V({});const l=V({}),d=V(-1),u=V({}),f=p=>{let o={};p=="array"&&(o={options:[{name:"",value:""}]}),u.value.variables.push({id:new Date().getTime(),comname:p,...o})},m=p=>{u.value.variables.splice(p,1)},r=()=>{d.value=0,u.value={name:"",type:"",variables:[]}},h=p=>{b("admin/setting-config/remove-image",{path:p})},g=p=>{b("admin/setting-config/get-list",{}).then(o=>{o.ok&&(l.value=o.list),typeof p=="function"&&p(o)})},K=()=>{C({text:"Are you sure?",icon:"warning",buttons:["No","Yes"]}).then(p=>{p&&b("admin/setting-config/remove",{id:d.value}).then(o=>{o.ok?(C({text:"Success",icon:"success"}),d.value=-1,g()):C({text:o.message,icon:"error"})})})},B=p=>{d.value=p.target.value,w()},w=()=>{b("admin/setting-config/get-config",{id:d.value}).then(p=>{p.ok&&(u.value=p.config)})},G=()=>{b("admin/setting-config/save",{...u.value}).then(p=>{p.ok?(C({text:"Success",icon:"success"}),d.value==0&&g(()=>{d.value=p.id,w()})):C({text:p.message,icon:"error"})})};return g(),(p,o)=>(a(),n("div",null,[t("div",null,[o[12]||(o[12]=t("h1",{class:"text-2xl font-bold"},"Configs",-1)),t("div",me,[i(A,{onChange:o[0]||(o[0]=e=>B(e)),options:l.value,"title-key":"name","value-key":"id",modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=e=>d.value=e),title:"Select a Config"},null,8,["options","modelValue"]),d.value!=0?(a(),n("button",{key:0,onClick:o[2]||(o[2]=e=>r()),class:"btn btn-primary"},"Add")):v("",!0)])]),d.value>-1?(a(),n("div",ce,[t("div",re,[t("h1",pe,[o[13]||(o[13]=q("Config Values ")),d.value==0?(a(),n("span",ve,"(New)")):v("",!0)]),t("div",null,[d.value>0?(a(),n("button",{key:0,onClick:K,class:"btn btn-error btn-sm"},"Delete Config")):v("",!0)])]),t("div",fe,[t("div",ge,[t("div",xe,[i(x,{modelValue:u.value.name,"onUpdate:modelValue":o[3]||(o[3]=e=>u.value.name=e),title:"Config Name","title-class":"text-lg font-bold"},null,8,["modelValue"]),i(x,{modelValue:u.value.type,"onUpdate:modelValue":o[4]||(o[4]=e=>u.value.type=e),title:"Config Type","title-class":"text-lg font-bold"},null,8,["modelValue"])]),(a(!0),n($,null,S(u.value.variables,(e,j)=>(a(),n("div",{class:"bg-black/5 p-2 rounded-xl border border-black/30",key:e.id},[e.comname=="value"?(a(),n("div",be,[i(x,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(x,{modelValue:e.value,"onUpdate:modelValue":s=>e.value=s,title:"Value",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"])])):v("",!0),e.comname=="richbox"?(a(),n("div",Ve,[i(x,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(O,{"com-id":"editor_"+e.id,modelValue:e.html,"onUpdate:modelValue":s=>e.html=s,title:"Content"},null,8,["com-id","modelValue","onUpdate:modelValue"])])):v("",!0),e.comname=="text"?(a(),n("div",ye,[i(x,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(Y,{modelValue:e.html,"onUpdate:modelValue":s=>e.html=s,title:"Content"},null,8,["modelValue","onUpdate:modelValue"])])):v("",!0),e.comname=="checkbox"?(a(),n("div",ke,[i(x,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(R,{"input-class":"checkbox-success",class:"py-3 px-6 bg-white rounded-xl",title:"Enabled",modelValue:e.value,"onUpdate:modelValue":s=>e.value=s},null,8,["modelValue","onUpdate:modelValue"])])):v("",!0),e.comname=="array"?(a(),n("div",he,[i(x,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),t("div",Ce,[(a(!0),n($,null,S(e.options,(s,N)=>(a(),n("div",{key:N,class:"flex gap-4 items-end"},[i(x,{modelValue:s.name,"onUpdate:modelValue":_=>s.name=_,title:"Option Name",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(x,{modelValue:s.value,"onUpdate:modelValue":_=>s.value=_,title:"Option Value",class:"flex-1","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),t("button",{onClick:_=>e.options.splice(N,1),class:"border hover:bg-red-200 duration-200 border-red-500 rounded-lg p-2 text-red-600"},[i(I,{class:"size-6"})],8,_e)]))),128))]),t("div",Ue,[t("button",{onClick:s=>e.options.push({name:"",value:""}),class:"btn"},"Add",8,$e)])])):v("",!0),e.comname=="image"?(a(),n("div",Se,[i(x,{modelValue:e.label,"onUpdate:modelValue":s=>e.label=s,title:"Name","title-class":"text-lg font-bold"},null,8,["modelValue","onUpdate:modelValue"]),i(H,{"upload-url":"admin/setting-config/upload-image",title:"Upload Image",modelValue:e.value,"onUpdate:modelValue":s=>e.value=s,"upload-params":{name:u.value.name},onRemove:h},null,8,["modelValue","onUpdate:modelValue","upload-params"])])):v("",!0),t("div",Ae,[t("button",{onClick:s=>m(j),class:"border hover:bg-red-200 duration-200 border-red-500 rounded-lg p-2 text-red-600"},[i(I,{class:"size-6"})],8,we)])]))),128))]),d.value>0?(a(),n("div",Ne,[t("button",{class:"btn btn-secondary",onClick:o[5]||(o[5]=e=>f("value"))},"Add Input"),t("button",{class:"btn btn-secondary",onClick:o[6]||(o[6]=e=>f("richbox"))},"Add Richbox"),t("button",{class:"btn btn-secondary",onClick:o[7]||(o[7]=e=>f("text"))},"Add Text"),t("button",{class:"btn btn-secondary",onClick:o[8]||(o[8]=e=>f("image"))},"Add Image"),t("button",{class:"btn btn-secondary",onClick:o[9]||(o[9]=e=>f("array"))},"Add Array"),t("button",{class:"btn btn-secondary",onClick:o[10]||(o[10]=e=>f("checkbox"))},"Add Checkbox")])):v("",!0)]),t("div",Te,[t("button",{onClick:o[11]||(o[11]=e=>G()),class:"btn btn-primary btn-lg px-8"},"Save")])])):v("",!0)]))}},De={class:"p-1 md:p-8 max-w-4xl"},Me={role:"tablist",class:"tabs tabs-boxed w-fit mt-4"},Le={class:"mt-12 rounded-xl bg-base-200 shadow shadow-md p-4"},Ge={__name:"SettingsView",setup(c){const l=E();V("general");const d=V([]),u=V(0);return(()=>{b("admin/get-sites",{}).then(m=>{m.ok&&(d.value=m.list,m.list.length&&(u.value=m.list[0].id))})})(),(m,r)=>(a(),n("div",De,[t("div",null,[i(A,{modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=h=>u.value=h),"value-key":"id",options:d.value,title:"Select a Site"},null,8,["modelValue","options"])]),t("div",Me,[t("a",{href:"#general",role:"tab",class:k(["tab",{"tab-active":U(l).hash=="#general"}])},"General",2),t("a",{href:"#varriable",role:"tab",class:k(["tab",{"tab-active":U(l).hash=="#varriable"}])},"Variables",2)]),t("div",Le,[U(l).hash=="#general"&&u.value?(a(),T(ue,{key:0,"site-id":u.value},null,8,["site-id"])):v("",!0),U(l).hash=="#varriable"&&u.value?(a(),T(Ie,{key:1,"site-id":u.value},null,8,["site-id"])):v("",!0)])]))}};export{Ge as default};
