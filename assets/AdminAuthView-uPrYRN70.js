import{r as l,c as a,a as t,b as u,w as c,v as m,P as b,u as x,o as r}from"./index-B_dLCW4e.js";const y={class:"min-h-screen flex items-center justify-center bg-gray-100"},_={class:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md"},g={class:"mb-4"},k={key:0,class:"mb-6 mt-6"},w={class:"flex items-center justify-center mt-8"},V={__name:"AdminAuthView",setup(h){const p=x(),s=l(""),d=l("");l("");const n=l("send_code"),f=()=>{b("admin/send-code",{mobile:s.value}).then(o=>{o.ok&&(n.value="confirm")})},v=()=>{b("admin/confirm-code",{mobile:s.value,code:d.value}).then(o=>{o.ok&&(localStorage.setItem("api_token",o.api_token),localStorage.setItem("mobile",s.value),localStorage.setItem("admin_id",o.user_id),localStorage.setItem("login",!0),p.replace({name:"admin_dashboard"}))})};return(o,e)=>(r(),a("div",y,[t("div",_,[e[4]||(e[4]=t("h2",{class:"text-2xl font-bold mb-6 text-center"},"ورود مدیر",-1)),t("div",null,[t("div",g,[e[2]||(e[2]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2 text-right",for:"username"},"شماره تماس",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>s.value=i),class:"input w-full text-center font-bold",id:"username",type:"username",placeholder:"شماره تماس"},null,512),[[m,s.value]])]),n.value=="confirm"?(r(),a("div",k,[e[3]||(e[3]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2 text-right",for:"password"},"کد دریافتی",-1)),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>d.value=i),class:"input input-primary w-full text-center font-bold",id:"password",type:"password",placeholder:"Code"},null,512),[[m,d.value]])])):u("",!0),t("div",w,[n.value=="send_code"?(r(),a("button",{key:0,onClick:f,class:"btn btn-secondary",type:"button"}," ارسال کد ورود ")):u("",!0),n.value=="confirm"?(r(),a("button",{key:1,onClick:v,class:"btn btn-secondary",type:"button"}," تایید و ورود به پنل ")):u("",!0)])])])]))}};export{V as default};
