import{c as l,o as n,a as t,F as O,m as C,p as v,t as c,w as L,s as V,B as R,j as x,z as S,P as k,r as f,A as B,l as N,b as g,e as b,u as j}from"./index-D6hGUued.js";const U={dir:"rtl"},M={class:"mt-4 flex flex-col gap-6"},D={key:0,class:"my-2"},E={key:1,class:"my-2"},F={class:"alert alert-error"},P={class:"flex flex-col md:flex-row justify-between"},T={class:"flex gap-4 lg:gap-8 lg:flex-row gap-4"},q={class:"font-bold p-1 rounded-lg"},z={class:"text-lg"},I={class:"font-bold p-1 rounded-lg"},G={class:"text-lg"},H={class:"text-lg"},J={class:"flex flex-col xs:flex-row justify-center md:justify-start items-center gap-4"},K={key:0,class:"flex-1 md:flex-none"},Q=["onUpdate:modelValue","onChange"],W={key:1,class:""},X=["onUpdate:modelValue","onChange"],Y=["value"],Z={class:"flex flex-col gap-4 lg:gap-8 lg:flex-row gap-4"},tt={class:"font-bold p-1 rounded-xl"},et={dir:"ltr",class:"text-lg"},st={class:"font-bold p-1 rounded-xl"},ot={dir:"ltr",class:"text-lg"},lt={class:"font-bold p-1 rounded-xl"},nt={dir:"ltr",class:"text-lg"},dt={key:0,class:"font-bold p-1 rounded-xl bg-gray-200"},at={dir:"ltr",class:"text-lg"},it={class:"mt-4"},rt={class:"col-span-14 lg:col-span-8 flex gap-2 flex-col gap-2"},ct={class:"font-bold text-xl"},y={__name:"OrderList",props:{orders:{required:!0},customActions:{default:[]}},emits:["changeOrderStatus","reloadList"],setup(w,{emit:$}){const r=w,m=$,p=(i,s)=>{s=="cancel"?S({title:"Ù„ØºÙˆ Ø³ÙØ§Ø±Ø´",text:` Ø³ÙØ§Ø±Ø´ Ø¨Ø§ Ø´Ù†Ø§Ø³Ù‡ ${i} Ù„ØºÙˆ Ø´ÙˆØ¯ØŸ`,icon:"warning",content:{element:"input",attributes:{placeholder:"Ø¯Ù„ÛŒÙ„ Ù„ØºÙˆ Ø³ÙØ§Ø±Ø´ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯",type:"text",dir:"auto",id:"myswalinputreason"}},buttons:{cancel:"Ø§Ù†ØµØ±Ø§Ù",ok:{text:"ØªØ§ÛŒÛŒØ¯ Ùˆ Ù„ØºÙˆ Ø³ÙØ§Ø±Ø´",value:!0}}}).then(e=>{if(e){const u=document.getElementById("myswalinputreason").value;u.length>0?h(i,s,u):S({title:"Ø®Ø·Ø§",text:"Ù„Ø·ÙØ§ Ø¯Ù„ÛŒÙ„ Ù„ØºÙˆ Ø³ÙØ§Ø±Ø´ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯",icon:"error"}).then(()=>{p(i,s)})}else window.location.reload()}):S({title:"ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´",text:"Ø¢ÛŒØ§ Ø§Ø² ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª Ø§ÛŒÙ† Ø³ÙØ§Ø±Ø´ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ",icon:"info",buttons:{cancel:"Ø®ÛŒØ±/Ø§Ù†ØµØ±Ø§Ù",ok:{text:"Ø¨Ù„Ù‡",value:!0}},dangerMode:!0}).then(e=>{e&&h(i,s)})},h=(i,s,e="")=>{k("admin/orders/change-status",{order_id:i,order_status:s,reason:e}).then(u=>{u.ok&&m("reloadList")})};return(i,s)=>(n(),l("div",U,[t("div",M,[(n(!0),l(O,null,C(w.orders,e=>{var u,_,a,o;return n(),l("div",{key:e.id,class:"shadow shadow-md shadow-green-200 bg-gray-100 border-2 border-gray-400 rounded-md p-2"},[(e==null?void 0:e.confirm_needed)===1?(n(),l("div",D,s[0]||(s[0]=[t("div",{class:"alert alert-info"}," Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ù‡ ØµÙˆØ±Øª Ú©Ø§Ø±Øª Ø¨Ù‡ Ú©Ø§Ø±Øª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ùˆ Ù†ÛŒØ§Ø² Ø§Ø³Øª ØªØ§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø±Ø³ÛŒ Ø´ÙˆØ¯ ",-1)]))):v("",!0),(u=e==null?void 0:e.reason)!=null&&u.length?(n(),l("div",E,[t("div",F,[s[1]||(s[1]=t("span",{class:"font-bold"},"Ø¯Ù„ÛŒÙ„ Ù„ØºÙˆ Ø³ÙØ§Ø±Ø´:",-1)),t("span",null,c(e.reason),1)])])):v("",!0),t("div",P,[t("div",T,[t("div",q,[s[2]||(s[2]=t("span",null,"Ø´Ù†Ø§Ø³Ù‡ :",-1)),t("span",z,c(e.id),1)]),t("div",I,[s[3]||(s[3]=t("span",null," ØªÙˆØ³Ø· :",-1)),t("span",G,c(e.user.name),1),t("span",H,c((_=e==null?void 0:e.user)==null?void 0:_.last_name),1)])]),t("div",J,[((a=r==null?void 0:r.customActions)==null?void 0:a.length)===0?(n(),l("div",K,[L(t("select",{class:"select select-primary font-bold","onUpdate:modelValue":d=>e.order_status=d,onChange:d=>p(e.id,e.order_status)},s[4]||(s[4]=[R('<option value="processing">Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´</option><option value="procuring">Ø¯Ø±Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡ Ø³Ø§Ø²ÛŒ</option><option value="ready_to_ship">Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø±Ø³Ø§Ù„</option><option value="shipped">Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡</option><option value="completed">ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡</option>',5)]),40,Q),[[V,e.order_status]])])):(n(),l("div",W,[L(t("select",{class:"select select-primary w-full font-bold","onUpdate:modelValue":d=>e.order_status=d,onChange:d=>p(e.id,e.order_status)},[(n(!0),l(O,null,C(r.customActions,(d,A)=>(n(),l("option",{key:A,value:d.value},c(d.title),9,Y))),128))],40,X),[[V,e.order_status]])])),s[5]||(s[5]=t("div",{class:""},[t("button",{class:"btn btn-primary w-full"},"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³ÙØ§Ø±Ø´ Ø¯Ù‡Ù†Ø¯Ù‡")],-1)),s[6]||(s[6]=t("div",{class:""},[t("button",{class:"btn btn-primary w-full"},"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±Ø¯Ø§Ø®Øª")],-1))])]),t("div",Z,[t("div",tt,[s[7]||(s[7]=x("ØªØ§Ø±ÛŒØ® Ø«Ø¨Øª : ")),t("span",et,c(e.fa_created_at),1)]),t("div",st,[s[8]||(s[8]=x("ØªØ§Ø±ÛŒØ® Ù¾Ø±Ø¯Ø§Ø®Øª : ")),t("span",ot,c(e.fa_payment_date),1)]),t("div",lt,[s[9]||(s[9]=t("b",null,"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡ : ",-1)),t("span",nt,c(e.cost)+" ØªÙˆÙ…Ø§Ù†",1)]),((o=e==null?void 0:e.completed_at)==null?void 0:o.length)>5?(n(),l("div",dt,[s[10]||(s[10]=x("ØªØ§Ø±ÛŒØ® ØªÚ©Ù…ÛŒÙ„ : ")),t("span",at,c(e.completed_at),1)])):v("",!0)]),t("div",it,[s[12]||(s[12]=t("div",{class:"font-bold text-green-800"},"Ù„ÛŒØ³Øª Ø³ÙØ§Ø±Ø´Ø§Øª:",-1)),t("div",rt,[(n(!0),l(O,null,C(e.cart_list,d=>(n(),l("div",{class:"border-2 border-green-800/50 border-dashed bg-gray-50 p-2 rounded-xl text-lg font-bold",key:d.id},[x("ðŸ›’ "+c(d.product_title)+" - "+c(d.inventory_name)+" (ØªØ¹Ø¯Ø§Ø¯ : ",1),t("span",ct,c(d.count),1),s[11]||(s[11]=x(" ) "))]))),128))])])])}),128))])]))}},ut={class:""},pt={dir:"rtl"},gt={class:"tabs tabs-box w-fit"},vt=["checked"],mt=["checked"],ht=["checked"],_t={key:0,class:"bg-gray-200 p-4 rounded shadow shadow-md text-right mt-8"},xt={key:0,class:"mt-10 border-4 border-dashed rounded-2xl py-10 text-center font-bold text-2xl"},ft={key:1,dir:"rtl"},bt={key:1,class:"bg-gray-100 p-4 rounded shadow shadow-md text-right mt-10"},yt={key:0,class:"mt-10 border-4 border-dashed rounded-2xl py-10 text-center font-bold text-2xl"},kt={key:1},wt={key:2,class:"bg-gray-100 p-4 rounded-xl shadow shadow-md text-right mt-8"},$t={key:0,class:"mt-10 border-4 border-dashed rounded-2xl py-10 text-center font-bold text-2xl"},Ot={key:1,dir:"rtl"},Ct={key:3,class:"bg-gray-100 p-4 rounded-xl shadow shadow-md text-right mt-8"},St={key:0,class:"mt-10 border-4 border-dashed rounded-2xl py-10 text-center font-bold text-2xl"},Lt={key:1,dir:"rtl"},At={__name:"AdminOrdersView",setup(w){const $=j(),r=N(),m=f([]),p=f([]),h=f([]),i=f([]);B.admin_panel_title.value="Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† - Ø³ÙØ§Ø±Ø´Ø§Øª";const s=()=>{k("admin/orders/active-list",{}).then(a=>{a.ok&&(m.value=a.list,console.log(m.value),h.value=m.value.filter(o=>o.order_status=="new"),p.value=m.value.filter(o=>o.order_status!="new"&&o.order_status!="completed"))})},e=()=>{k("admin/orders/completed-list",{}).then(a=>{a.ok&&(i.value=a.list,console.log(i.value))})},u=()=>{k("admin/orders/canceled-list",{}).then(a=>{a.ok&&(i.value=a.list,console.log(i.value))})},_=a=>{$.replace({hash:a}),a=="#completed"&&e(),a=="#canceled"?u():s()};return r.hash=="#completed"?e():s(),(a,o)=>(n(),l("div",ut,[t("div",pt,[t("div",gt,[t("input",{onClick:o[0]||(o[0]=d=>_("#processing")),type:"radio",name:"my_tabs_1",class:"tab","aria-label":"Ø¯Ø±Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…",checked:["","#processing"].indexOf(g(r).hash)>-1},null,8,vt),t("input",{onClick:o[1]||(o[1]=d=>_("#completed")),type:"radio",name:"my_tabs_1",class:"tab","aria-label":"Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡â€ŒÙ‡Ø§",checked:["#completed"].indexOf(g(r).hash)>-1},null,8,mt),t("input",{onClick:o[2]||(o[2]=d=>_("#canceled")),type:"radio",name:"my_tabs_1",class:"tab","aria-label":"Ù„ØºÙˆ Ø´Ø¯Ù‡â€Œâ€ŒÙ‡Ø§",checked:["#canceled"].indexOf(g(r).hash)>-1},null,8,ht)])]),["#processing",""].indexOf(g(r).hash)>-1?(n(),l("div",_t,[o[7]||(o[7]=t("h2",{class:"text-2xl font-bold"},"Ù„ÛŒØ³Øª Ø³ÙØ§Ø±Ø´Ø§Øª Ø¬Ø¯ÛŒØ¯",-1)),h.value.length==0?(n(),l("div",xt," Ø³ÙØ§Ø±Ø´ Ø¬Ø¯ÛŒØ¯ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ ")):(n(),l("div",ft,[b(y,{orders:h.value,onReloadList:s,"custom-actions":[{title:"Ø¬Ø¯ÛŒØ¯",value:"new"},{title:"ØªØºÛŒÛŒØ± Ø¨Ù‡ Ø¯Ø±Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…",value:"processing"},{title:"Ù„ØºÙˆ Ø³ÙØ§Ø±Ø´",value:"cancel"}],onChangeOrderStatus:o[3]||(o[3]=d=>a.changeOrderStatus(d))},null,8,["orders"])]))])):v("",!0),["#processing",""].indexOf(g(r).hash)>-1?(n(),l("div",bt,[o[8]||(o[8]=t("h2",{class:"text-2xl font-bold"},"Ù„ÛŒØ³Øª Ø³ÙØ§Ø±Ø´Ø§Øª Ø¯Ø±Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…",-1)),p.value.length==0?(n(),l("div",yt," Ø³ÙØ§Ø±Ø´ Ø¯Ø±Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ ")):(n(),l("div",kt,[b(y,{onReloadList:o[4]||(o[4]=d=>s()),orders:p.value},null,8,["orders"])]))])):v("",!0),["#completed"].indexOf(g(r).hash)>-1?(n(),l("div",wt,[o[9]||(o[9]=t("h2",{class:"text-2xl font-bold"},"Ù„ÛŒØ³Øª Ø³ÙØ§Ø±Ø´Ø§Øª ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡",-1)),i.value.length==0?(n(),l("div",$t," Ø³ÙØ§Ø±Ø´ ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡ Ø§ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ ")):(n(),l("div",Ot,[b(y,{orders:i.value,onReloadList:e,"custom-actions":[{title:"ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡",value:"completed"},{title:"ØªØºÛŒÛŒØ± Ø¨Ù‡ Ø¯Ø±Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡ Ø³Ø§Ø²ÛŒ",value:"procuring"}],onChangeOrderStatus:o[5]||(o[5]=d=>a.changeOrderStatus(d))},null,8,["orders"])]))])):v("",!0),["#canceled"].indexOf(g(r).hash)>-1?(n(),l("div",Ct,[o[10]||(o[10]=t("h2",{class:"text-2xl font-bold"},"Ù„ÛŒØ³Øª Ø³ÙØ§Ø±Ø´Ø§Øª Ú©Ù†Ø³Ù„ Ø´Ø¯Ù‡",-1)),i.value.length==0?(n(),l("div",St," Ø³ÙØ§Ø±Ø´ Ú©Ù†Ø³Ù„ Ø´Ø¯Ù‡ Ø§ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ ")):(n(),l("div",Lt,[b(y,{orders:i.value,onReloadList:e,"custom-actions":[{title:"ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡",value:"completed"},{title:"ØªØºÛŒÛŒØ± Ø¨Ù‡ Ø¯Ø±Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡ Ø³Ø§Ø²ÛŒ",value:"procuring"}],onChangeOrderStatus:o[6]||(o[6]=d=>a.changeOrderStatus(d))},null,8,["orders"])]))])):v("",!0)]))}};export{At as default};
