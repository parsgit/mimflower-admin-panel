import{c as s,o as l,a as n,F as p,m as f,n as m,t as k,z as b,r as h,e as $,P as y,u as C}from"./index-C0_Hov2k.js";const w={class:"flex flex-col gap-4"},A={class:"grid grid-cols-20 gap-4 items-center flex-1"},F=["onClick"],I={class:"flex gap-2"},L=["onClick"],B={__name:"ListGrid",props:{list:{default:[]},headers:{default:[]},fields:{default:[]},btns:{default:[]},deleteAction:{default:!1},deleteItemField:{default:"title"},selectMode:{default:!1}},emits:["btn-action","click-item"],setup(c,{emit:_}){const e=c,r=(i,v)=>{v.id=="delete"&&e.deleteAction?b({text:` حذف شود؟ ${i[e.deleteItemField]}?`,icon:"warning",buttons:{cancel:"لغو",ok:"بله/حذف شود"}}).then(a=>{a=="ok"&&o("delete",i,a)}):o("btn-action",i,v)},g=()=>{if(e.selectMode)return"hover:bg-gray-200 duration-200 hover:scale-[101%] cursor-pointer"},o=_,t=i=>{o("click-item",i)};return(i,v)=>(l(),s("div",w,[n("div",A,[(l(!0),s(p,null,f(e.headers,(a,x)=>(l(),s("div",{class:m(["text-lg",`col-span-${a.spend}`]),key:x},k(a.text??"---"),3))),128))]),(l(!0),s(p,null,f(e.list,(a,x)=>(l(),s("div",{key:x,class:m([[g()],"flex gap-4 justify-between bg-base-100 rounded-xl p-4 shadow"])},[n("div",{onClick:d=>t(a),class:"grid grid-cols-20 gap-4 items-center flex-1"},[(l(!0),s(p,null,f(e.fields,(d,u)=>(l(),s("div",{class:m(["text-lg",`col-span-${c.headers[u].spend}`]),key:u},k(a[d]??"---"),3))),128))],8,F),n("div",I,[(l(!0),s(p,null,f(c.btns,(d,u)=>(l(),s("button",{onClick:z=>r(a,d),class:m(["btn btn-outline",d==null?void 0:d.class]),key:u},k(d.title),11,L))),128))])],2))),128))]))}},M={class:"mt-10 bg-gray-100 roudned-xl p-4 shadow"},P={class:"flex gap-5 mt-10 justify-center"},V=["disabled"],j=["disabled"],S={__name:"AdminUserListView",setup(c){const _=C(),e=h([]),r=o=>{y("/admin/user/list",{page:o}).then(t=>{t.ok&&(e.value=t.list,console.log(e.value))}).catch(t=>{console.error("##=> error:",t)})},g=o=>{_.push({name:"admin_user_profile",params:{id:o.id}})};return r(1),(o,t)=>(l(),s("div",null,[t[2]||(t[2]=n("div",null,[n("h2",{class:"text-2xl font-bold"},"لیست کاربران")],-1)),n("div",M,[$(B,{"select-mode":"true",list:e.value.data,headers:[{text:"نام",spend:5},{text:"نام خانوادگی",spend:5},{text:"شماره همراه",spend:5},{text:"تاریخ ثبت نام",spend:"5"}],fields:["name","last_name","mobile","fa_date"],onClickItem:g},null,8,["list"])]),n("div",P,[n("button",{onClick:t[0]||(t[0]=i=>r(e.value.prev_page)),class:"btn btn-primary",disabled:e.value.prev_page==!1}," صفحه قبل ",8,V),n("button",{onClick:t[1]||(t[1]=i=>r(e.value.next_page)),class:"btn btn-primary",disabled:e.value.next_page==!1}," صفحه بعد ",8,j)])]))}};export{S as default};
